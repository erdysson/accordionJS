!function(){"use strict";function e(e,n){function t(){var e=Array.prototype.slice.call(d.querySelectorAll(".accordion"),0);e.forEach(function(e){var n=e.querySelector("[accordion]"),t=e.querySelector(".accordion-menu"),r=n.getAttribute("content-provider");r?n.addEventListener("click",u(t,l(t,r))):n.addEventListener("click",u(t,i(t)))})}function r(e,t){var r=Q.defer();return v[t]?r.resolve():n.customData[t].provider().then(function(i){n.customData[t].cache===!0?v[t]=!0:o(e),c(e,i),r.resolve()})["catch"](function(e){r.reject(e)}),r.promise}function c(e,n){n.forEach(function(n){var t=document.createElement("li");t.innerHTML=n,t.classList.add("accordion-item"),e.appendChild(t)})}function o(e){for(;e.firstChild;)e.removeChild(e.firstChild);return!0}function i(e){return function(){f&&null!==h&&s(h),a(e)}}function l(e,n){return function(){r(e,n).then(i(e))["catch"](function(e){console.log("error in async handler",e)})}}function u(e,n){return function(t){var r=Array.prototype.slice.call(e.classList,0).indexOf("show")>-1;r?s(e):n(),t.preventDefault()}}function a(e){return e.classList.remove("hide"),e.classList.add("show"),h=e,!0}function s(e){return e.classList.remove("show"),e.classList.add("hide"),h=null,!0}var d=document.querySelector(e),f="boolean"==typeof n.closeOthers?n.closeOthers:!1,h=null,v={};return{$initialize:t}}window.Accordion=e}();